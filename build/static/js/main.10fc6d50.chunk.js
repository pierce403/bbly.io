(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1026:function(e,t){},1063:function(e,t){},1080:function(e,t){},1337:function(e,t){},1384:function(e,t){},1408:function(e,t){},1445:function(e,t){},1468:function(e,t){},1470:function(e,t){},1481:function(e,t){},1534:function(e,t){},1565:function(e,t){},1629:function(e,t){},1672:function(e,t){},1683:function(e,t){},1685:function(e,t){},1713:function(e,t){},1728:function(e,t){},1761:function(e,t){},1816:function(e,t){},1845:function(e,t,n){"use strict";n.r(t);var o,a=n(30),r=n.n(a),c=n(737),i=n.n(c),s=(n(746),n(381)),u=n(740),l=n(261),b=n(262),f=n(264),m=n(263),d=n(265),p=(n(748),n(738)),h=n.n(p),v=n(739),g=n.n(v);var w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={toggle:!0,bubbleList:[{title:"first thing",score:0,id:"bubble"+Math.random()},{title:"second thing",score:1,id:"bubble"+Math.random()},{title:"third thing",score:2,id:"bubble"+Math.random()}]},n.toggle=function(){n.setState({toggle:!n.state.toggle})},n}return Object(d.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;!function(e){var t=e.onAddBubble,n=new h.a({repo:"ipfs/pubsub-demo/"+Math.random(),EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star"]}}});n.once("ready",function(){return n.id(function(e,a){if(e)throw e;console.log("IPFS node ready with address "+a.id),(o=g()(n,"bbly-news")).on("peer joined",function(e){return console.log("peer "+e+" joined")}),o.on("peer left",function(e){return console.log("peer "+e+" left")}),o.on("peer joined",function(e){return o.sendTo(e,"Hello "+e+"!")}),o.on("message",function(e){t({title:e.data.toString(),score:0,id:"bubble"+Math.random()}),console.log("got message from "+e.from+": "+e.data.toString())})})})}({onAddBubble:function(t){e.setState({bubbleList:Object(u.a)(e.state.bubbleList).concat([t])})}})}},{key:"handleUpvote",value:function(e){var t=this.state.bubbleList.map(function(t){return t.id===e?Object(s.a)({},t,{score:t.score+1}):t});this.setState({bubbleList:t})}},{key:"handleDownvote",value:function(e){var t=this.state.bubbleList.map(function(t){return t.id===e?Object(s.a)({},t,{score:t.score-1}):t});this.setState({bubbleList:t})}},{key:"render",value:function(){var e=this,t=this.state.bubbleList.slice();return t.sort(function(e,t){return e.score>t.score?-1:e.score<t.score?1:0}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(E,null),r.a.createElement("br",null),r.a.createElement("ul",{className:"list-group"},t.slice(0,10).map(function(t){return r.a.createElement("li",{key:t.id,className:"list-group-item"},r.a.createElement(y,{title:t.title,score:t.score,onUpvote:function(){return e.handleUpvote(t.id)},onDownvote:function(){return e.handleDownvote(t.id)}}))}))))}}]),t}(a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card border-secondary mb-3 text-left"},r.a.createElement("div",{className:"card-body"},r.a.createElement("button",{className:"btn btn-outline-secondary"},this.props.score),r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.props.onUpvote},r.a.createElement("span",{className:"fa fa-smile-o"})),r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:this.props.onDownvote},r.a.createElement("span",{className:"fa fa-frown-o"})),this.props.title))}}]),t}(a.Component),E=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},n.handleChange=function(e){n.setState({value:e.target.value})},n.handleSubmit=function(e){var t;console.log("A new story was submitted: "+n.state.value),t=n.state.value,o.broadcast(t),e.preventDefault()},n}return Object(d.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BubbleBlower"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"from-inline"},r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("input",{type:"text",className:"form-control",id:"inlineFormInputGroup",placeholder:"story title",name:"name",value:this.state.value,onChange:this.handleChange,onMouseEnter:function(){return console.log("enter")}})),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-outline-secondary"})))}}]),t}(a.Component),j=w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},463:function(e,t){},515:function(e,t){},741:function(e,t,n){e.exports=n(1845)},746:function(e,t,n){},748:function(e,t,n){},835:function(e,t){},837:function(e,t){},926:function(e,t){},938:function(e,t){},983:function(e,t){}},[[741,2,1]]]);
//# sourceMappingURL=main.10fc6d50.chunk.js.map