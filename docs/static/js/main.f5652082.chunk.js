(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1024:function(e,t){},1061:function(e,t){},1078:function(e,t){},1335:function(e,t){},1382:function(e,t){},1406:function(e,t){},1443:function(e,t){},1466:function(e,t){},1468:function(e,t){},1479:function(e,t){},1532:function(e,t){},1563:function(e,t){},1627:function(e,t){},1670:function(e,t){},1681:function(e,t){},1683:function(e,t){},1711:function(e,t){},1726:function(e,t){},1759:function(e,t){},1814:function(e,t){},1843:function(e,t,a){"use strict";a.r(t);var n,o=a(4),l=a.n(o),s=a(736),i=a.n(s),r=(a(744),a(81)),c=a(82),m=a(84),u=a(83),b=a(85),d=(a(746),a(737)),p=a.n(d),f=a(738),g=a.n(f),h=0,y=[];function v(){var e=y.slice();return e.sort(function(e,t){return e.score>t.score?-1:e.score<t.score?1:0}),e}function E(e){n.broadcast(e)}null==localStorage.getItem("bubbleList")?(console.log("loading default bubbles"),y=[{title:"Welcome to BBLY.IO!",link:"https://bbly.io",summary:"This site is pretty fun, hope you enjoy it!",score:0,awesome:0,hilarious:0,enlightening:0,solidarity:0,scammy:0,poopy:0,hateful:0,id:"bubble-777"}]):(console.log("loading stored bubbles"),y=JSON.parse(localStorage.getItem("bubbleList")));var N=function(e){function t(){return Object(r.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"modal fade bd-big-bubble-modal-lg",id:"big-bubble-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLiveLabel"},"BIG BUBBLE LYFE!!"),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("button",{className:"btn btn-outline-success",type:"button"},l.a.createElement("span",{className:"fa fa-user-circle"}))),l.a.createElement("input",{type:"text",className:"form-control border-success",id:"newname",placeholder:"username"}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-outline-success","data-dismiss":"modal"},"close"),l.a.createElement("button",{className:"btn btn-outline-success"},"register")))))}}]),t}(o.Component),w=function(e){function t(){return Object(r.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("span",null,l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"awesome",id:e.props.bubble.id}))},title:"awesome"},l.a.createElement("span",{className:"fa fa-grin-stars"}," ",this.props.bubble.awesome," ")),l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"hilarious",id:e.props.bubble.id}))},title:"hilarious"},l.a.createElement("span",{className:"fa fa-grin-squint-tears"}," ",this.props.bubble.hilarious)),l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"enlightening",id:e.props.bubble.id}))},title:"enlightening"},l.a.createElement("span",{className:"fa fa-lightbulb"}," ",this.props.bubble.enlightening," ")),l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"solidarity",id:e.props.bubble.id}))},title:"solidarity"},l.a.createElement("span",{className:"fa fa-fist-raised"}," ",this.props.bubble.solidarity," "))," ",l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"scammy",id:e.props.bubble.id}))},title:"scammy"},l.a.createElement("span",{className:"fa fa-dollar-sign"}," ",this.props.bubble.scammy," ")),l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"poopy",id:e.props.bubble.id}))},title:"poopy"},l.a.createElement("span",{className:"fa fa-poop"}," ",this.props.bubble.poopy," ")),l.a.createElement("button",{className:"btn btn-outline-secondary m-1",onClick:function(){E(JSON.stringify({type:"vote",emotion:"hateful",id:e.props.bubble.id}))},title:"hateful"},l.a.createElement("span",{className:"fa fa-skull"}," ",this.props.bubble.hateful," ")))}}]),t}(o.Component),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleNewClick=function(e){console.log("this was fun"),document.getElementById("blowerInput").focus()},a}return Object(b.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-secondy"},l.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("a",{className:"navbar-brand",href:"#!","data-toggle":"modal","data-target":".bd-reg-modal-lg",onClick:this.handleNewClick},"New Post"),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03"},l.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-md-0"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"#!"},"Home ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"#!"},"Link")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link disabled",href:"#!"},"Disabled"))),l.a.createElement("span",{className:"form-inline my-2 my-lg-0"},"peers: ",this.props.peerCount),l.a.createElement("form",{className:"form-inline my-2 my-lg-0"},l.a.createElement("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search"}))))}}]),t}(o.Component),j=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),console.log("A new story was submitted: "+a.state.value),E(JSON.stringify({type:"story",title:a.state.value,id:"bubble-"+Math.round(1e9*Math.random())})),a.setState({value:""})},a}return Object(b.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"modal fade bd-reg-modal-lg",id:"reg-modal",tabIndex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"},l.a.createElement("form",{className:"from-inline"},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLiveLabel"},"New Post")),l.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"}),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{id:"blowerInput",type:"text",className:"form-control border-secondary",placeholder:"story title",name:"name",value:this.state.value,onChange:this.handleChange}))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("input",{type:"submit",value:"new post",className:"btn btn-outline-secondary","data-dismiss":"modal",onClick:this.handleSubmit}))))))}}]),t}(o.Component),k=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={peerCount:0,toggle:!0,topBubbles:v()},a}return Object(b.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;!function(e){var t=e.onBubbleChange,a=e.onPeerChange,o=new p.a({repo:"ipfs/pubsub-demo/"+Math.random(),EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star"]}}});o.once("ready",function(){return o.id(function(e,l){if(e)throw e;console.log("IPFS node ready with address "+l.id),(n=g()(o,"bbly-news")).on("peer joined",function(e){console.log("peer "+e+" joined"),a(++h)}),n.on("peer left",function(e){console.log("peer "+e+" left"),a(--h)}),n.on("message",function(e){var a=JSON.parse(e.data.toString());if(console.log(a),"vote"===a.type){for(var n=0;n<y.length;++n)y[n].id===a.id&&("awesome"===a.emotion&&y[n].awesome++,"hilarious"===a.emotion&&y[n].hilarious++,"enlightening"===a.emotion&&y[n].enlightening++,"solidarity"===a.emotion&&y[n].solidarity++,"scammy"===a.emotion&&y[n].scammy++,"poopy"===a.emotion&&y[n].poopy++,"hateful"===a.emotion&&y[n].hateful++,y[n].score=y[n].awesome+y[n].hilarious+y[n].enlightening+y[n].solidarity-y[n].scammy-y[n].poopy-10*y[n].hateful);return console.log("stored "+y.length+" bubbles!"),localStorage.setItem("bubbleList",JSON.stringify(y)),void t()}"story"===a.type&&(y.push({title:a.title,score:0,awesome:0,hilarious:0,enlightening:0,solidarity:0,hateful:0,poopy:0,scammy:0,id:a.id}),t())})})})}({onBubbleChange:function(){e.setState({topBubbles:v()})},onPeerChange:function(t){e.setState({peerCount:t})}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(O,{peerCount:this.state.peerCount}),l.a.createElement("header",{className:"App-header"},l.a.createElement(j,null),l.a.createElement(N,null),l.a.createElement("br",null),l.a.createElement("ul",{className:"list-group"},this.state.topBubbles.map(function(e){return l.a.createElement("li",{key:e.id,className:"list-group-item"},l.a.createElement(C,{bubble:e}))}))))}}]),t}(o.Component),C=function(e){function t(){return Object(r.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("RENDERING"),l.a.createElement("div",{className:"card border-secondary mb-3 m-3 text-left"},l.a.createElement("div",{className:"card-body"},l.a.createElement("button",{className:"btn btn-outline-secondary m-1"},this.props.bubble.score),this.props.bubble.title,l.a.createElement("br",null),l.a.createElement(w,{bubble:this.props.bubble})))}}]),t}(o.Component),S=k;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},462:function(e,t){},514:function(e,t){},739:function(e,t,a){e.exports=a(1843)},744:function(e,t,a){},746:function(e,t,a){},833:function(e,t){},835:function(e,t){},924:function(e,t){},936:function(e,t){},981:function(e,t){}},[[739,2,1]]]);
//# sourceMappingURL=main.f5652082.chunk.js.map